<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE config SYSTEM "http://www.matsim.org/files/dtd/config_v2.dtd">

<!-- ================================================================================== 
	NOTE - MAKE ALL PATHS RELATIVE TO THE BASE GOOGLE DRIVE SHARED FOLDER "MATSim 
	PEV" ===================================================================================== -->

<config>

	<module name="PEVSim">
		<param name="simulationName" value="tests" />
		<param name="chargingSitePoliciesFile" value="charging-policies.csv" />
		<param name="chargingNetworkOperatorsFile" value="charging-network-operators.csv" />
		<param name="chargingPlugTypesFile" value="charging-plug-types.csv" />
		<param name="chargingSitesFile" value="charging-sites.csv" />
		<param name="chargingPointsFile" value="charging-points.csv" />
		<param name="chargingStrategiesFile" value="three-charging-strategies_nestedLogit.xml" />
		<param name="vehicleTypesFile" value="vehicle-types.csv" />
		<param name="personVehicleTypesFile" value="person-vehicle-types_5_agents.csv" />
    <param name="linkAttributesFile" value="link-attributes.csv" />
    <param name="travelTimeFile" value="ToyNetworkLinkTravelTimes.dat" />
		<param name="routerCacheFileRead" value="BeamRouterCache.dat" />
		<param name="routerCacheFileWrite" value="" />
		<param name="initialSearchRadius" value="0.5" />
		<param name="searchRadiusIncrementationFactor" value="2" />
		<param name="fractionHomeChargers" value="0.95" />
		<param name="chargingStationUseConstantOverHeadTime" value="180" />
		<param name="averageWalkSpeedToChargingStation" value="1.34112" />
		<param name="walkDistanceAdjustmentFactor" value="3.0" />
		<param name="overheadTravelTimeFactorWhenRunningOutOfBattery" value="25" />
		<param name="chargingScoreScalingFactor" value="1.0" />
		<param name="enRouteSearchDistance" value="1000" />
		<param name="equalityEpsilon" value="0.000000001" />
		<param name="timeToEngageNextFastChargingStation" value="120" />
		<param name="rangeAnxitySamplingIntervalInSeconds" value="1800" />
		<param name="isDebugMode" value="false" />
		<param name="dumpPlansAtEndOfRun" value="false" />
		<param name="dumpPlanCsv" value="true" />
		<param name="dumpPlanCsvInterval" value="1" />
		<param name="eventsFileOutputFormats" value="xml" />
		<param name="selectedEVDailyPlansFileName" value="selectedEVDailyPlans.csv" />
		
		<param name="betaChargingCost" value="-1.0" />
		<param name="betaParkingCost" value="-1.0" />
		<param name="betaParkingWalkTime" value="-1.0" />
		<param name="betaLegTravelTime" value="-1.0" />
		<param name="overheadScorePlugChange" value="-1.0" />
	</module>

	<!-- Default log level is zero (no output) if not specified. The Default 
		level can however be set to a different value: <param name="Default.level" 
		value="0" /> and then overwritten by specific values.
		
		
		The event log is written out by default in each iteration - this parameter can however be changed:
		<param name="writeEVEventsInterval" value="1" />
		
		-->
	<module name="PEVSim.LogSettings">
		<param name="Default.level" value="10" />
	</module>

	<!-- ====================================================================== -->

	<module name="global">
		<param name="coordinateSystem" value="EPSG:4326" />
		<param name="numberOfThreads" value="4" />
	</module>

	<!-- ====================================================================== -->

	<module name="network">
		<param name="inputNetworkFile" value="toyNetwork.xml" />
	</module>

	<!-- ====================================================================== -->

	<module name="facilities">
		<param name="inputFacilitiesFile" value="null" />
	</module>

	<!-- ====================================================================== -->

	<module name="plans">
		<param name="inputPlansFile" value="plans_1_agent.xml" />
	</module>

	<!-- ====================================================================== -->

	<module name="qsim">

		<!-- "start/endTime" of MobSim (00:00:00 == take earliest activity time/ 
			run as long as active vehicles exist) -->
		<param name="startTime" value="00:00:00" />
		<param name="endTime" value="50:00:00" />
		<param name="flowCapacityFactor" value="0.12" />
		<param name="storageCapacityFactor" value="0.12" />
	</module>

	<!-- ====================================================================== -->
	<module name="scenario">

		<!-- Set this parameter to true if households should be used, false if 
			not. -->
		<!-- <param name="useHouseholds" value="false" /> -->

		<!-- Set this parameter to true if knowledge should be used, false if not. -->
		<!-- param name="useKnowledge" value="false" / -->

		<!-- Set this parameter to true if lanes should be used, false if not. -->
		<!-- <param name="useLanes" value="false" /> -->

		<!-- Set this parameter to true if roadpricing should be used, false if 
			not. -->
		<!-- param name="useRoadpricing" value="false" / -->

		<!-- Set this parameter to true if signal systems should be used, false 
			if not. -->
		<!-- <param name="useSignalsystems" value="false" /> -->

		<!-- Set this parameter to true if transit should be simulated, false if 
			not. -->
		<!-- <param name="useTransit" value="false" /> -->

		<!-- Set this parameter to true if vehicles should be used, false if not. -->
		<!-- <param name="useVehicles" value="false" /> -->
	</module>

	<!-- ====================================================================== -->

	<module name="controler">
		<param name="outputDirectory" value="" />
		<param name="firstIteration" value="0" />
		<param name="lastIteration" value="1" />
		<param name="runId" value="run0" />
		<param name="routingAlgorithmType" value="FastAStarLandmarks" />
		<param name="mobsim" value="qsim" />
		<param name="writeEventsInterval" value="1" />
	</module>

	<!-- ====================================================================== -->

	<module name="qsim">
		<param name="numberOfThreads" value="4" />
	</module>
	<!-- ====================================================================== -->
	<!-- (Turn on again, when needed) <module name="counts"> <param name="countsScaleFactor" 
		value="15.4109174" /> <param name="inputCountsFile" value="C:\data\bayAreaRuns\input\counts_MTC_PeMS_mean.xml"/> 
		<param name="outputformat" value="all" /> </module> -->
	<!-- ====================================================================== -->




	<!-- ====================================================================== -->

	<module name="planCalcScore">

		<!-- There used to be a plateau between duration=0 and duration=zeroUtilityDuration. 
			This caused durations to evolve to zero once they were below zeroUtilityDuration, 
			causing problems. Only use this switch if you need to be backwards compatible 
			with some old results. (changed nov'13) -->

		<param name="PathSizeLogitBeta" value="1.0" />

		<!-- [utils/hr] additional marginal utility for waiting for a pt vehicle. 
			normally negative. this comes on top of the opportunity cost of time. Default: 
			if not set explicitly, it is equal to traveling_pt!!! -->
		<param name="waitingPt" value="-6.0" />

		<!-- [utils/unit_of_money] conversion of money (e.g. toll, distance cost) 
			into utils. Normall positive (i.e. toll/cost/fare are processed as negative 
			amounts of money). -->
		<param name="marginalUtilityOfMoney" value="1.0" />

		<!-- [utils] utility of switching a line (= transfer penalty). Normally 
			negative -->
		<param name="utilityOfLineSwitch" value="-1.0" />

		<!-- write a plans file in each iteration directory which contains what 
			each agent actually did, and the score it received. -->
		<param name="writeExperiencedPlans" value="true" />

		<param name="learningRate" value="1.0" />
		<param name="BrainExpBeta" value="2.0" />

		<param name="lateArrival" value="-18" />
		<param name="earlyDeparture" value="-0" />
		<param name="performing" value="+6" />
		<param name="traveling" value="-6" />
		<param name="waiting" value="-0" />

		<!-- config_v2 activity declarations -->


		<!-- config_v1 activity declarations -->
		<!--<param name="activityType_0" value="h1" /> &lt;!&ndash; home &ndash;&gt; -->
		<!--<param name="activityPriority_0" value="1" /> -->
		<!--<param name="activityTypicalDuration_0" value="1:00:00" /> -->

		<!--<param name="activityType_1" value="w1" /> &lt;!&ndash; work &ndash;&gt; -->
		<!--<param name="activityPriority_1" value="1" /> -->
		<!--<param name="activityTypicalDuration_1" value="10:00:00" /> -->

		<!--<param name="activityType_2" value="1" /> &lt;!&ndash; Shopping &ndash;&gt; -->
		<!--<param name="activityPriority_1" value="1" /> -->
		<!--<param name="activityTypicalDuration_1" value="10:00:00" /> -->

		<!-- Home (night) -->
		<parameterset type="activityParams">
			<param name="activityType" value="Home" />
			<param name="priority" value="1.0" />
			<param name="scoringThisActivityAtAll" value="true" />
			<param name="typicalDuration" value="01:00:00" />
			<param name="typicalDurationScoreComputation" value="uniform" />
		</parameterset>

		<!-- Work -->
		<parameterset type="activityParams">
			<param name="activityType" value="Work" />
			<param name="priority" value="1.0" />
			<param name="scoringThisActivityAtAll" value="true" />
			<param name="typicalDuration" value="9:00:00" />
			<param name="typicalDurationScoreComputation" value="uniform" />
		</parameterset>

		<!-- Shopping -->
		<parameterset type="activityParams">
			<param name="activityType" value="Shopping" />
			<param name="priority" value="1.0" />
			<param name="scoringThisActivityAtAll" value="true" />
			<param name="typicalDuration" value="9:00:00" />
			<param name="typicalDurationScoreComputation" value="uniform" />
		</parameterset>

		<!-- Social -->
		<parameterset type="activityParams">
			<param name="activityType" value="Social" />
			<param name="priority" value="1.0" />
			<param name="scoringThisActivityAtAll" value="true" />
			<param name="typicalDuration" value="4:00:00" />
			<param name="typicalDurationScoreComputation" value="uniform" />
		</parameterset>

		<!-- Eatout -->
		<parameterset type="activityParams">
			<param name="activityType" value="Eatout" />
			<param name="priority" value="1.0" />
			<param name="scoringThisActivityAtAll" value="true" />
			<param name="typicalDuration" value="2:00:00" />
			<param name="typicalDurationScoreComputation" value="uniform" />
		</parameterset>

		<!-- School -->
		<parameterset type="activityParams">
			<param name="activityType" value="School" />
			<param name="priority" value="1.0" />
			<param name="scoringThisActivityAtAll" value="true" />
			<param name="typicalDuration" value="8:00:00" />
			<param name="typicalDurationScoreComputation" value="uniform" />
		</parameterset>


		<!-- Escort -->
		<parameterset type="activityParams">
			<param name="activityType" value="Escort" />
			<param name="priority" value="1.0" />
			<param name="scoringThisActivityAtAll" value="true" />
			<param name="typicalDuration" value="00:30:00" />
			<param name="typicalDurationScoreComputation" value="uniform" />
		</parameterset>


		<!-- University -->
		<parameterset type="activityParams">
			<param name="activityType" value="University" />
			<param name="priority" value="1.0" />
			<param name="scoringThisActivityAtAll" value="true" />
			<param name="typicalDuration" value="08:00:00" />
			<param name="typicalDurationScoreComputation" value="uniform" />
		</parameterset>

		<!-- Other -->
		<parameterset type="activityParams">
			<param name="activityType" value="Other" />
			<param name="priority" value="1.0" />
			<param name="scoringThisActivityAtAll" value="true" />
			<param name="typicalDuration" value="02:00:00" />
			<param name="typicalDurationScoreComputation" value="uniform" />
		</parameterset>


	</module>



	<module name="strategy">
		<param name="maxAgentPlanMemorySize" value="5" />

		<param name="ModuleProbability_1" value="1.0" />
		<param name="Module_1" value="BestScore" />

	</module>


	<module name="changeMode">
		<param name="modes" value="PEV,bayPT" />
	</module>

</config>
