buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'
    }
}

plugins {
    id "net.ltgt.apt" version "0.5"
}


apply plugin: 'java'
apply plugin: 'maven'

group = 'beam'
version = '0.1.0-SNAPSHOT'

def beamlib = "$System.env.BEAMLIB"

description = """"""

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    maven { url "http://maven.geotoolkit.org/" }
    maven { url "https://repository.jboss.org/nexus/content/repositories/thirdparty-releases" }
    maven { url "http://central.maven.org/maven2"}
    maven { url "http://repo.maven.apache.org/maven2" }
    maven { url "http://download.osgeo.org/webdav/geotools" }
    maven { url "http://dl.bintray.com/matsim/matsim" }
    flatDir {
        dirs beamlib
    }
    jcenter()
    maven { url "https://jitpack.io" }
}

dependencies {
    compile group: 'jdom', name: 'jdom', version:'1.1'
    compile group: 'com.google.inject', name: 'guice', version:'4.1.0'
    compile group: 'com.google.guava', name: 'guava', version:'19.0'
    compile group: 'de.ruedigermoeller', name: 'fst', version:'2.47'
    compile group: 'org.jfree', name: 'jfreechart', version:'1.0.14'
    compile group: 'org.apache.commons', name: 'commons-math3', version:'3.5'
    compile group: 'org.geotools', name: 'gt-main', version:'13.0'
    compile group: 'org.geotools', name: 'gt-referencing', version:'13.0'
    compile group: 'org.geotools', name: 'gt-shapefile', version:'13.0'
    compile group: 'com.google.inject.extensions', name: 'guice-multibindings', version:'4.1.0'
    compile group: 'net.sf.trove4j', name: 'trove4j', version:'3.0.3'
    runtime group: 'org.geotools', name: 'gt-epsg-hsql', version:'13.0'
    // https://mvnrepository.com/artifact/aopalliance/aopalliance
    compile group: 'aopalliance', name: 'aopalliance', version: '1.0'
    // https://mvnrepository.com/artifact/de.ruedigermoeller/fst
    compile group: 'de.ruedigermoeller', name: 'fst', version: '2.48'
    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.5.5'
    // https://mvnrepository.com/artifact/org.javassist/javassist
    compile group: 'org.javassist', name: 'javassist', version: '3.19.0-GA'
    // https://mvnrepository.com/artifact/javax.inject/javax.inject
    compile group: 'javax.inject', name: 'javax.inject', version: '1'
    // https://mvnrepository.com/artifact/jdom/jdom
    compile group: 'jdom', name: 'jdom', version: '1.1'
    // https://mvnrepository.com/artifact/log4j/log4j
    compile group: 'log4j', name: 'log4j', version: '1.2.16'
    // https://mvnrepository.com/artifact/org.matsim.contrib/multimodal
    compile group: 'org.matsim.contrib', name: 'multimodal', version: '0.8.0'
    // https://mvnrepository.com/artifact/org.objenesis/objenesis
    compile group: 'org.objenesis', name: 'objenesis', version: '2.4'
    // https://mvnrepository.com/artifact/javax.jms/jms
    compile group: 'javax.jms', name: 'jms', version: '1.1'
    // https://mvnrepository.com/artifact/javax.media/jai_core
    compile group: 'javax.media', name: 'jai_core', version: '1.1.3'
    compile name: 'matsim_2016_11_01'
    // https://mvnrepository.com/artifact/junit/junit
    compile group: 'junit', name: 'junit', version: '4.4'
    // https://mvnrepository.com/artifact/org.geotools/gt-referencing
    compile group: 'org.geotools', name: 'gt-referencing', version: '15.2'
    // https://mvnrepository.com/artifact/org.geotools/gt-epsg-hsql
    compile group: 'org.geotools', name: 'gt-epsg-hsql', version: '15.2'
    // https://mvnrepository.com/artifact/commons-io/commons-io
	compile group: 'commons-io', name: 'commons-io', version: '2.5'
	compile group: 'com.esotericsoftware', name: 'kryo-shaded', version: '4.0.0'
    compile group: 'edu.ucar', name: 'udunits', version: '4.5.5'
    compile 'com.github.shevek:graphviz4j:master-SNAPSHOT'
    compile 'com.github.colinsheppard:easyfsm:49bbb39d0048a304f321abeb18873335f8427efa'
    compile 'com.google.dagger:dagger:2.8'
    apt 'com.google.dagger:dagger-compiler:2.8'
}

//////////////////////////////////////////////////////////////////////
// BUNDLING FOR EXECUTION
//
// Shadowjar bundles model together into executable jar
//////////////////////////////////////////////////////////////////////


apply plugin: 'com.github.johnrengelman.shadow'

jar {
   manifest {
       attributes 'Main-Class': 'beam.EVSimTeleController'
   }
}

shadowJar {
   baseName = 'beam'
   classifier = null
   version = null
}
